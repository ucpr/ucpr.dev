---
import { getCollection } from "astro:content";

const allArticles = await getCollection("articles");

// sort articles by date in descending order
allArticles.sort((a, b) => {
  return Date.parse(b.data.date) - Date.parse(a.data.date);
});
---

<ul class="p-3">
  {allArticles.map((article) => (
  <li class="py-2">
    <div class="flex">
      <p class="text-xs text-gray-700">{ article.data.date.split("T",1)[0] }</p>
      <span class="pl-2" />
      <p class="text-xs px-1 text-white text-bold bg-sky-400 rounded border">{ article.data.title }</p>
    </div>

    <a href={`articles/${article.slug}`} class="text-blue-600 hover:text-blue-800">
      { article.data.title }
    </a>
  </li>
  ))}
</ul>
